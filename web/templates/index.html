<!DOCTYPE html>
<!-- ./web/templates/index.html -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsciiDoc XML Converter - Development Harness</title>
    <link rel="stylesheet" href="/static/app.css">
</head>
<body>
    <div id="navbar-placeholder">
        <nav class="navbar">
            <div class="navbar-content">
                <h1 class="navbar-title">AsciiDoc XML Converter</h1>
                <div class="navbar-menu">
                    <a href="/" class="navbar-link active">Home</a>
                    <a href="/docs" class="navbar-link">Docs</a>
                    <a href="/batch" class="navbar-link">Batching</a>
                    <a href="/browse" class="navbar-link">Browse</a>
                </div>
                <div class="output-selector">
                    <label for="output-type">Output:</label>
                    <select id="output-type">
                        <option value="xml">XML</option>
                        <option value="html" selected>HTML</option>
                        <option value="html5">HTML5</option>
                        <option value="xhtml">XHTML</option>
                        <option value="xhtml5">XHTML5</option>
                        <option value="md2adoc">MD2ADoc</option>
                    </select>
                </div>
                <button id="btn-validate">Validate</button>
                <button id="btn-convert">Convert</button>
                <button id="btn-load-example">Load Example</button>
                <button id="btn-upload">Upload</button>
                <span class="status" id="status"></span>
            </div>
        </nav>
    </div>
    <div id="home-control-strip" class="home-control-strip" style="display: none;"></div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Upload Files</h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="upload-section">
                <h3>AsciiDoc File</h3>
                <input type="file" id="asciidocFile" accept=".adoc,.asciidoc">
                <button id="btn-upload-asciidoc" disabled>Upload AsciiDoc</button>
            </div>
            <div class="upload-section" id="xslt-upload-section">
                <h3>XSLT Template File</h3>
                <input type="file" id="xsltFile" accept=".xsl,.xslt">
                <button id="btn-upload-xslt" disabled>Upload XSLT</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="panel" id="asciidoc-panel">
            <div class="panel-header">AsciiDoc Source</div>
            <div class="path-input">
                <input type="text" id="asciidoc-path" placeholder="examples/comprehensive.adoc" 
                       onkeypress="if(event.key==='Enter') loadAsciiDocFromPath()">
            </div>
            <div class="panel-content">
                <iframe id="asciidoc-frame" src="about:blank"></iframe>
            </div>
        </div>

        <div class="panel hidden" id="xml-panel">
            <div class="panel-header">Generated XML</div>
            <div class="panel-content">
                <iframe id="xml-frame" src="about:blank"></iframe>
            </div>
        </div>

        <div class="panel hidden" id="xslt-panel">
            <div class="panel-header">XSLT Template</div>
            <div class="path-input">
                <input type="text" id="xslt-path" placeholder="/xslt/asciidoc-to-html.xsl" 
                       onkeypress="if(event.key==='Enter') loadXSLTFromPath()">
            </div>
            <div class="panel-content">
                <iframe id="xslt-frame" src="about:blank"></iframe>
            </div>
        </div>

        <div class="panel" id="html-panel">
            <div class="panel-header">HTML Output</div>
            <div class="html-tabs">
                <button class="active" data-view="rendered">Rendered</button>
                <button data-view="source">Source</button>
            </div>
            <div class="panel-content">
                <iframe id="html-frame" src="about:blank"></iframe>
            </div>
        </div>
    </div>

    <script src="/static/shared.js"></script>
    <script src="/static/pretty.js"></script>
    <script src="/static/app.js"></script>
    <div id="footer-placeholder"></div>
</body>
</html>
